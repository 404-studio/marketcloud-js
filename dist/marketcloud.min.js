!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=r(i),o=n(2),u=r(o),a=a||{};a.Client=s.default,a.Utils=u.default,window.Marketcloud=a,e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){this.token=null,this.publicKey=t.publicKey||t.public_key,this.baseUrl="https://api.marketcloud.it",this.apiVersion="v0",this.rejectApiErrors=t.rejectApiErrors||!0,this.brands=new d.default(this),this.categories=new h.default(this),this.carts=new l.default(this),this.collections=new m.default(this),this.coupons=new w.default(this),this.products=new k.default(this),this.orders=new O.default(this),this.invoices=new b.default(this),this.users=new L.default(this),this.contents=new y.default(this),this.files=new E.default(this),this.media=this.files,this.promotions=new R.default(this),this.shippingMethods=new N.default(this),this.shippings=this.shippingMethods,this.payments=new A.default(this),this.paymentMethods=new S.default(this),this.variables=new F.default(this),this.RETRIES=0,this.MAX_RETRIES=2,this.LAST_REQUEST=null}Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),o=(r(s),n(3)),u=r(o),a=n(4),d=r(a),f=n(6),l=r(f),c=n(7),h=r(c),p=n(8),m=r(p),_=n(9),y=r(_),v=n(10),w=r(v),M=n(11),b=r(M),P=n(12),E=r(P),T=n(13),O=r(T),g=n(14),A=r(g),j=n(15),S=r(j),U=n(16),k=r(U),q=n(17),R=r(q),H=n(18),N=r(H),x=n(19),L=r(x),z=n(20),F=r(z);i.prototype.getAuthorizationHeader=function(){var t=this.publicKey;return this.token&&(t+=":"+this.token),t},i.prototype.request=function(t,e){var n=new u.default(t,this);return n.send(e)},i.prototype.Get=function(t,e,n){var r=this,i={url:r.baseUrl+"/"+r.apiVersion+t,method:"GET",params:e||{},headers:{Authorization:r.getAuthorizationHeader()}};return this.LAST_REQUEST=i,this.request(i,n)},i.prototype.Post=function(t,e,n){var r=this,i={url:r.baseUrl+"/"+r.apiVersion+t,method:"POST",data:e||{},headers:{Authorization:r.getAuthorizationHeader()}};return this.LAST_REQUEST=i,this.request(i,n)},i.prototype.Put=function(t,e,n){var r=this,i={url:r.baseUrl+"/"+r.apiVersion+t,method:"PUT",data:e||{},headers:{Authorization:r.getAuthorizationHeader()}};return this.LAST_REQUEST=i,this.request(i,n)},i.prototype.Patch=function(t,e,n){var r=this,i={url:r.baseUrl+"/"+r.apiVersion+t,method:"PATCH",data:e||{},headers:{Authorization:r.getAuthorizationHeader()}};return this.LAST_REQUEST=i,this.request(i,n)},i.prototype.Delete=function(t,e){var n=this,r={url:n.baseUrl+"/"+n.apiVersion+t,method:"DELETE",headers:{Authorization:n.getAuthorizationHeader()}};return this.LAST_REQUEST=r,this.request(r,e)},e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.isFunction=function(t){return"function"==typeof t},n.canIUsePromises=function(){return"undefined"!=typeof Promise&&Promise.toString().indexOf("[native code]")!==-1},n.getVariantValues=function(t,e){return"product_with_variants"!==e.type?[]:e.variantsDefinition.hasOwnProperty(t)?e.variants.map(function(e){return e[t]}):[]},n.variantExists=function(t,e){return e.variants.some(function(e){var n=!0;for(var r in t)t[r]!==e[r]&&(n=!1);return n})},n.variantIsAvailable=function(t,e){return"product_with_variants"===e.type&&e.variants.some(function(e){var n=!0,r=!1;for(var i in t)t[i]!==e[i]&&(n=!1);return n&&("track"===e.stock_type&&e.stock_level>0&&(r=!0),"status"===e.stock_type&&"in_stock"===e.stock_status&&(r=!0),"infinite"===stock_type&&(r=!0)),n&&r})},n.base64EncodeFileInput=function(t,e){var n=querySelector(t),r=n.files[0],i=new FileReader;i.addEventListener("load",function(){e(i.result)},!1),r&&i.readAsDataURL(r)},e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){for(var t=!1,e=0;e<u.length;e++){try{t=u[e]()}catch(t){continue}break}return t}Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),o=r(s),u=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],a=["GET","POST","PUT","PATCH","DELETE"],d=function(t,e){if(this.method=t.method,a.indexOf(this.method)<0)throw new Error("Unsupported HTTP method "+this.method);this.url=t.url,this.headers=t.headers||{},this.data=t.data||{},this.params=t.params||{},this.client=e};d.prototype.getFullRequestUri=function(){var t=""+this.url;if("GET"===this.method){t+="?";for(var e in this.params)t+=encodeURI(e+"="+this.params[e])+"&";"&"===t.slice(-1)&&(t=t.slice(0,-1))}return t},d.prototype.send=function(t){var e=this;return new Promise(function(n,r){var s=i();s.open(e.method,e.getFullRequestUri()),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","application/json");for(var u in e.headers)s.setRequestHeader(u,e.headers[u]);s.onreadystatechange=function(){if(4==s.readyState){if(s.status>=200&&s.status<400)return o.default.isFunction(t)&&t(null,JSON.parse(s.responseText)),n(JSON.parse(s.responseText));if(s.status>=400)return o.default.isFunction(t)&&t(JSON.parse(s.responseText)),e.client.rejectApiErrors===!0?r(JSON.parse(s.responseText)):n(JSON.parse(s.responseText))}},s.onerror=function(){r(new Error("Networking error"))},["PATCH","POST","PUT"].indexOf(e.method)>=0?s.send(JSON.stringify(e.data)):s.send()})},window.request=d,e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="brands",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e){"use strict";function n(t){this.master=t}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype.list=function(t,e){return this.master.Get(this.endpoint,t,e)},n.prototype.getById=function(t,e){if(isNaN(t))throw new Error("id must be an integer.");return this.master.Get(this.endpoint+"/"+t,{},e)},n.prototype.create=function(t,e){return this.master.Post(this.endpoint,t,e)},n.prototype.update=function(t,e,n){if(isNaN(t))throw new Error("id must be an integer.");return this.master.Put(this.endpoint+"/"+t,e,n)},n.prototype.delete=function(t,e){return this.master.Delete(this.endpoint+"/"+t,e)},window.resource=n,e.default=resource},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="carts",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,i.prototype.add=function(t,e,n){if(isNaN(t))throw new Error("id must be an integer.");if(!(e instanceof Array))throw new Error("items must be an array of line items");var r={op:"add",items:e};return this.master.Patch("/carts/"+t,r,n)},i.prototype.remove=function(t,e,n){if(isNaN(t))throw new Error("id must be an integer.");if(!(e instanceof Array))throw new Error("items must be an array of line items");var r={op:"remove",items:e};return this.master.Patch("/carts/"+t,r,n)},i.prototype.update=function(t,e,n){if(isNaN(t))throw new Error("id must be an integer.");if(!(e instanceof Array))throw new Error("items must be an array of line items");var r={op:"update",items:e};return this.master.Patch("/carts/"+t,r,n)},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="categories",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="collections",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="contents",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="coupons",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="invoices",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="media",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="orders",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){this.master=t,this.name="payments",this.endpoint="/"+this.name,this.braintree={createClientToken:function(){return t.Post("/integrations/braintree/clientToken")},create:function(t){if(t.method="Braintree",!t.hasOwnProperty("nonce"))throw new Error("Missing required attribute nonce");if(!t.hasOwnProperty("order_id"))throw new Error("Missing required attribute order_id")}},this.stripe={create:function(t){if(t.method="Stripe",!t.hasOwnProperty("source"))throw new Error("Missing required attribute source");if(!t.hasOwnProperty("order_id"))throw new Error("Missing required attribute order_id")}}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5);r(s);i.prototype.create=function(t){if(!t.hasOwnProperty("method"))throw new Error("Missing required attribute method");if(!t.hasOwnProperty("order_id"))throw new Error("Missing required attribute order_id");return this.master.Post("/payments",t)},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="paymentMethods",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="products",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="promotions",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="shippingMethods",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="users",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,i.prototype.authenticate=function(t,e){var n={email:t,password:e},r=this;return this.master.Post("/users/authenticate",n).then(function(t){r.master.token=t.data.token,r.master.currentUser=t.data.user})},i.prototype.authenticateWithFacebook=function(t,e){var n={user_id:t,access_token:e};return this.master.Post("/users/authenticate/facebook",n)},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default.call(this,t),this.name="variables",this.endpoint="/"+this.name}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),o=r(s);i.prototype=new o.default,e.default=i}]);